import{a as o,j as t,B as d,e as _,F as x,R as g,_ as N,f as y,g as k,I as h,h as b,t as v,P as z,r as a,u,i as j}from"./index.5dc16375.js";const E=({details:e})=>{var s;return console.log(e),o("div",{className:"flex flex-col items-center w-[150px] h-[120px] lg:w-50px break-words",children:[e&&t("p",{className:"font-[400] text-md text-center",children:"Level Up"}),t(d,{className:"lg:block hidden w-full text-3xl"}),t(_,{className:"block lg:hidden w-full text-3xl"}),(e==null?void 0:e.min_level)&&o("p",{className:"font-[400] capitalize  text-md text-center",children:["At ",e.min_level," ",t("br",{}),e.turn_upside_down&&"(Turn Console Upside Down)"]}),(e==null?void 0:e.item)&&o("p",{className:"font-[400] capitalize text-md text-center",children:["Use ",e.item.name.replace(/\-/g," ")]}),(e==null?void 0:e.min_happiness)&&(e==null?void 0:e.time_of_day)&&o(x,{children:[o("p",{className:"font-[400] capitalize text-md text-center",children:["Happiness ",e.min_happiness,"+"]}),o("p",{className:"font-[400] capitalize text-md text-center",children:["At ",e.time_of_day,"time"]})]}),(e==null?void 0:e.location)&&o("p",{className:"font-[400] capitalize text-md text-center",children:["At ",e.location.name.replace(/\-/g," ")]}),(e==null?void 0:e.known_move)&&o("p",{className:"font-[400] capitalize text-md text-center",children:["Know ",e.known_move.name.replace(/\-/g," ")]}),(e==null?void 0:e.known_move_type)&&(e==null?void 0:e.min_affection)&&o(x,{children:[o("p",{className:"font-[400] capitalize text-md text-center",children:["Know ",e.known_move_type.name.replace(/\-/g," ")," Move"]}),o("p",{className:"font-[400] capitalize text-md text-center",children:["Affection ",e.min_affection,"+"]})]}),((s=e==null?void 0:e.trigger)==null?void 0:s.name)==="trade"&&t("p",{className:"font-[400] capitalize text-md text-center",children:"By Trading"})]})},A=g.lazy(()=>N(()=>import("./PokemonImage.787d68fe.js"),["assets/PokemonImage.787d68fe.js","assets/index.5dc16375.js","assets/index.04d75fb9.css"])),f=({name:e,details:s})=>{var i;const r=y(),{data:n,isFetching:l}=k(e);return l?t("div",{className:"w-[150px] lg:w-50px flex relative flex-col items-center justify-center",children:t(h,{children:t(b,{className:"absolute inset-0 w-[50px] h-[50px] animate-spin"})})}):o("div",{className:"flex lg:flex-row flex-col items-center justify-center",children:[s&&t(E,{details:s}),o("div",{className:"flex flex-col items-center justify-center gap-2",children:[t(g.Suspense,{fallback:t(h,{}),children:t("div",{className:"w-[150px] lg:w-50px",children:t(A,{src:(i=n==null?void 0:n.sprites)==null?void 0:i.other["official-artwork"].front_default})})}),o("div",{className:"flex flex-col items-center gap-1",children:[o("p",{children:["#",n==null?void 0:n.id]}),t("p",{className:`font-semibold capitalize cursor-pointer
                    ${n&&v[n.types[0].type.name].backgroundColor}
                    text-white rounded-lg p-2`,onClick:()=>r(`/pokemon/${n==null?void 0:n.id}`),children:n==null?void 0:n.name})]}),t("div",{className:"flex items-center gap-1",children:n==null?void 0:n.types.map(c=>t(z,{size:"w-[35px] h-[35px]",type:c.type.name},c.type.name))})]})]})},S=()=>{const[e,s]=a.exports.useState(null),[r,n]=a.exports.useState(null),l=u(m=>m.pokemon.species),i=u(m=>m.pokemon.type),{data:c}=j(e||null);return a.exports.useEffect(()=>{var m,p;if(l){const w=(p=(m=l.evolution_chain)==null?void 0:m.url)==null?void 0:p.match(/\/(\d+)\//g)[0].replace(/\//g,"");s(w)}},[l]),a.exports.useEffect(()=>{c!=null&&c.chain&&n(P(c))},[c]),o("div",{className:"flex flex-col w-full lg:items-center py-5 gap-5",children:[t("h1",{className:`font-bold text-xl uppercase w-fit self-center
            ${i&&v[i].backgroundColor} text-white
            rounded-lg p-2`,children:"Evolution Chain"}),(r==null?void 0:r.length)===1&&t("p",{className:"w-full text-center font-semibold text-lg",children:"This pokemon does not evolve."}),t("div",{className:"flex flex-1 lg:flex-row lg:flex-wrap flex-col w-full gap-5 justify-center items-center lg:h-[200px]",children:r&&C(r)})]})},C=e=>{let s=[],r=0;for(;r<e.length;){let n=e[r];if(n.children<=1&&s.push(t(f,{name:n.name,details:n.details},n.name)),n.children>1){let l=[];for(let i=1;i<=n.children;i++){const c=e[r+i];if(l.push(t(f,{name:c.name,details:c.details},c.name)),i%2===0){const m=o("div",{className:"flex lg:flex-row flex-col gap-1  items-center justify-center",children:[t(f,{name:n.name,details:n.details},n.name),t("div",{className:"flex lg:flex-col flex-row gap-2  items-center justify-center",children:l})]});s.push(m),l=[]}}s.push(l.length===1?l[0]:t("div",{className:"flex lg:flex-col flex-row gap-2  items-center justify-center",children:l})),r=n.children+1}else r++}return s},P=e=>{let s=e.chain;const r=[],n=[];for(n.push(s);n.length>0;){const l=n.shift();let i=0;if(l.evolves_to.length>0)for(let m of l.evolves_to)i+=1,n.push(m);let c={};l.evolution_details.length>0&&Object.entries(l.evolution_details[0]).map(([m,p])=>{p&&(c[m]=p)}),Object.keys(c).length===0&&(c=null),r.push({name:l.species.name,id:e==null?void 0:e.id,details:c,children:i})}return r};export{S as default};
