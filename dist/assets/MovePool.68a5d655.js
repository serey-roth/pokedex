import{b as y,u as p,c as b,a as d,t as h,j as t,P as w,s as k,d as N,F as f,r as M}from"./index.18bf823a.js";const C=({level:s,name:n,setIsFetching:l})=>{var u,m,g;const r=y(),c=p(v=>v.pokemon.type),{data:e,isFetching:o,error:i}=b(n),a=()=>{r(k(n)),r(N(!0))};return d("tr",{className:`${c&&h[c].hoverColor} hover:text-white
        transition-colors cursor-pointer`,onClick:a,children:[t("td",{children:s||"-"}),t("td",{className:"capitalize",children:e?n.replace(/\-/g," "):"-"}),t("td",{className:"capitalize flex item-center justify-center",children:e?t(w,{size:"w-[20px] h-[20px]",type:(u=e==null?void 0:e.type)==null?void 0:u.name}):"-"}),t("td",{className:"capitalize",children:((m=e==null?void 0:e.damage_class)==null?void 0:m.name)||"-"}),t("td",{children:(e==null?void 0:e.power)||"-"}),t("td",{children:(e==null?void 0:e.pp)||"-"}),t("td",{children:(e==null?void 0:e.accuracy)||"-"}),t("td",{children:(e==null?void 0:e.priority)||"-"}),t("td",{className:"uppercase",children:((g=e==null?void 0:e.generation)==null?void 0:g.name.replace(/generation\-/g," "))||"-"})]})},P=(s,n,l,r)=>{const c=n.findIndex(e=>e.version_group.name===r);return c!==-1&&n[c].move_learn_method.name===l?{level:n[c].level_learned_at,name:s.name}:null},_=(s,n)=>{switch(s){case"level-up":{n.sort((l,r)=>l.level<r.level?-1:l.level==r.level?0:1);break}default:{n.sort((l,r)=>l.name<r.name?-1:l.name==r.name?0:1);break}}},j=({learnedMethod:s,moveData:n,existing:l})=>{const{type:r,version:c}=p(o=>o.pokemon);let e;return l&&(e=n==null?void 0:n.map(({move:o,version_group_details:i})=>P(o,i,s,c)).filter(o=>o!==null)),e&&_(s,e),t(f,{children:t("div",{className:`w-full lg:w-[80%] h-[300px] border-2 border-slate-300/50
            ${r&&h[r].backgroundColor} relative
            overflow-auto flex flex-col items-center`,children:l?d(f,{children:[d("table",{className:"w-full max-h-full mix-blend-luminosity text-center rounded-lg border-collapse",children:[t("thead",{className:`${r&&h[r].backgroundColor}
                    text-white border-b-2 border-slate-300/50`,children:d("tr",{children:[t("th",{children:s==="level-up"?"Level":"-"}),t("th",{children:"Move"}),t("th",{children:"Type"}),t("th",{children:"Category"}),t("th",{children:"Power"}),t("th",{children:"PP"}),t("th",{children:"Accuracy"}),t("th",{children:"Priority"}),t("th",{children:"Generation"})]})}),t("tbody",{children:(e==null?void 0:e.length)!==0&&(e==null?void 0:e.map(o=>t(C,{level:o.level,name:o.name},o.level+"-"+o.name)))})]}),(e==null?void 0:e.length)===0&&t("p",{className:"flex items-center justify-center flex-1 text-white",children:"No moves learned by this method in the chosen game were found."})]}):t("p",{className:"font-semibold absolute top-1/2 -translate-y-1/2 text-white",children:"This pokemon does not exist in this version."})})})},x={"level up":"level-up","tm/hm":"machine",egg:"egg",tutor:"tutor"},T=()=>{const{generation:s,selectGeneration:n,type:l}=p(i=>i.pokemon),[r,c]=M.exports.useState("level up"),e=p(i=>{var a;return(a=i.pokemon.base)==null?void 0:a.moves}),o=s<=n;return d("div",{className:"flex flex-col gap-3 w-full items-center py-5",children:[t("h1",{className:`font-bold text-xl uppercase
            ${l&&h[l].backgroundColor} text-white
            rounded-lg p-2`,children:"Move Pool"}),t("div",{className:"w-full flex flex-wrap gap-1 justify-evenly",children:Object.keys(x).map(i=>t("button",{className:`rounded-lg p-2 uppercase
                    font-bold ${l&&h[l].hoverColor}
                    transition-colors 
                    ${!o&&"pointer-events-none"} 
                    ${i===r&&l&&h[l].backgroundColor} transition-colors`,onClick:a=>c(a.target.innerText.toLowerCase()),children:i},i))}),t(j,{type:l,learnedMethod:x[r],moveData:e,existing:o})]})};export{T as default};
