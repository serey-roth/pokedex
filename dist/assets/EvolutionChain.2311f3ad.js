import{a as c,j as t,B as _,e as N,F as x,R as g,_ as y,f as d,g as k,I as h,h as b,t as v,P as z,r as a,u,i as j}from"./index.18bf823a.js";const E=({details:e})=>{var i,l,n;return c("div",{className:"flex flex-col items-center w-[150px] h-[120px] lg:w-50px break-words",children:[e&&t("p",{className:"font-[400] text-md text-center",children:"Level Up"}),t(_,{className:"lg:block hidden w-full text-3xl"}),t(N,{className:"block lg:hidden w-full text-3xl"}),(e==null?void 0:e.min_level)&&c("p",{className:"font-[400] capitalize  text-md text-center",children:["At ",e.min_level," ",t("br",{}),e.turn_upside_down&&"(Turn Console Upside Down)"]}),(e==null?void 0:e.item)&&c("p",{className:"font-[400] capitalize text-md text-center",children:["Use ",e.item.name.replace(/\-/g," ")]}),(e==null?void 0:e.min_happiness)&&c(x,{children:[c("p",{className:"font-[400] capitalize text-md text-center",children:["Happiness ",e.min_happiness,"+"]}),(e==null?void 0:e.time_of_day)&&c("p",{className:"font-[400] capitalize text-md text-center",children:["At ",e.time_of_day,"time"]})]}),(e==null?void 0:e.min_beauty)&&c("p",{className:"font-[400] capitalize text-md text-center",children:["Beauty ",e.min_beauty,"+"]}),(e==null?void 0:e.location)&&c("p",{className:"font-[400] capitalize text-md text-center",children:["At ",e.location.name.replace(/\-/g," ")]}),(e==null?void 0:e.known_move)&&c("p",{className:"font-[400] capitalize text-md text-center",children:["Know ",e.known_move.name.replace(/\-/g," ")]}),(e==null?void 0:e.known_move_type)&&(e==null?void 0:e.min_affection)&&c(x,{children:[c("p",{className:"font-[400] capitalize text-md text-center",children:["Know ",e.known_move_type.name.replace(/\-/g," ")," Move"]}),c("p",{className:"font-[400] capitalize text-md text-center",children:["Affection ",e.min_affection,"+"]})]}),(((i=e==null?void 0:e.trigger)==null?void 0:i.name)==="trade"||((l=e==null?void 0:e.trigger)==null?void 0:l.name)==="spin")&&c("p",{className:"font-[400] capitalize text-md text-center",children:["By ",((n=e==null?void 0:e.trigger)==null?void 0:n.name)==="trade"?"Trading":"Spinning"]})]})},A=g.lazy(()=>y(()=>import("./PokemonImage.1cb973ac.js"),["assets/PokemonImage.1cb973ac.js","assets/index.18bf823a.js","assets/index.18d314f7.css"])),f=({name:e,details:i})=>{var s;const l=d(),{data:n,isFetching:o}=k(e);return o?t("div",{className:"w-[150px] lg:w-50px flex relative flex-col items-center justify-center",children:t(h,{children:t(b,{className:"absolute inset-0 w-[50px] h-[50px] animate-spin"})})}):c("div",{className:"flex lg:flex-row flex-col items-center justify-center",children:[i&&t(E,{details:i}),c("div",{className:"flex flex-col items-center justify-center gap-2",children:[t(g.Suspense,{fallback:t(h,{}),children:t("div",{className:"w-[150px] lg:w-50px",children:t(A,{src:(s=n==null?void 0:n.sprites)==null?void 0:s.other["official-artwork"].front_default})})}),c("div",{className:"flex flex-col items-center gap-1",children:[c("p",{children:["#",n==null?void 0:n.id]}),t("p",{className:`font-semibold capitalize cursor-pointer
                    ${n&&v[n.types[0].type.name].backgroundColor}
                    text-white rounded-lg p-2`,onClick:()=>l(`/pokemon/${n==null?void 0:n.id}`),children:n==null?void 0:n.name})]}),t("div",{className:"flex items-center gap-1",children:n==null?void 0:n.types.map(r=>t(z,{size:"w-[35px] h-[35px]",type:r.type.name},r.type.name))})]})]})},S=()=>{const[e,i]=a.exports.useState(null),[l,n]=a.exports.useState(null),o=u(m=>m.pokemon.species),s=u(m=>m.pokemon.type),{data:r}=j(e||null);return a.exports.useEffect(()=>{var m,p;if(o){const w=(p=(m=o.evolution_chain)==null?void 0:m.url)==null?void 0:p.match(/\/(\d+)\//g)[0].replace(/\//g,"");i(w)}},[o]),a.exports.useEffect(()=>{r!=null&&r.chain&&n(P(r))},[r]),c("div",{className:"flex flex-col w-full lg:items-center py-5 gap-5",children:[t("h1",{className:`font-bold text-xl uppercase w-fit self-center
            ${s&&v[s].backgroundColor} text-white
            rounded-lg p-2`,children:"Evolution Chain"}),(l==null?void 0:l.length)===1?t("p",{className:"w-full text-center font-semibold text-lg",children:"This pokemon does not evolve."}):t("div",{className:"flex flex-1 lg:flex-row lg:flex-wrap flex-col w-full gap-5 justify-center items-center lg:h-[200px]",children:C(l)})]})},C=e=>{let i=[],l=0;if(!e)return null;for(;l<e.length;){let n=e[l];if(n.children<=1)i.push(t(f,{name:n.name,details:n.details},n.name)),l++;else{let o=[];for(let s=1;s<=n.children;s++){const r=e[l+s];if(o.push(t(f,{name:r.name,details:r.details},r.name)),s%2===0){const m=c("div",{className:"flex lg:flex-row flex-col gap-1  items-center justify-center",children:[t(f,{name:n.name,details:n.details},n.name),t("div",{className:"flex lg:flex-col flex-row gap-2  items-center justify-center",children:o})]});i.push(m),o=[]}}i.push(o.length===1&&c("div",{className:"flex lg:flex-col flex-row gap-2  items-center justify-center",children:[t(f,{name:n.name,details:n.details},n.name),o[0]]})),l=n.children+1}}return i},P=e=>{let i=e.chain;const l=[],n=[];for(n.push(i);n.length>0;){const o=n.shift();let s=0;if(o.evolves_to.length>0)for(let m of o.evolves_to)s+=1,n.push(m);let r={};o.evolution_details.length>0&&Object.entries(o.evolution_details[0]).map(([m,p])=>{p&&(r[m]=p)}),Object.keys(r).length===0&&(r=null),l.push({name:o.species.name,id:e==null?void 0:e.id,details:r,children:s})}return l};export{S as default};
