import{b as y,u as p,c as b,a as d,t as a,j as e,P as k,s as w,d as N,F as f,r as M}from"./index.5dc16375.js";const C=({level:c,name:o,setIsFetching:l})=>{var u,g,x;const s=y(),i=p(m=>m.pokemon.type);p(m=>m.pokemon.moveModal);const{data:t,isFetching:h,error:n}=b(o),r=()=>{s(w(o)),s(N(!0))};return d("tr",{className:`${i&&a[i].hoverColor} hover:text-white
        transition-colors cursor-pointer`,onClick:r,children:[e("td",{children:c||"-"}),e("td",{className:"capitalize",children:t?o.replace(/\-/g," "):"-"}),e("td",{className:"capitalize flex item-center justify-center",children:t?e(k,{size:"w-[20px] h-[20px]",type:(u=t==null?void 0:t.type)==null?void 0:u.name}):"-"}),e("td",{className:"capitalize",children:((g=t==null?void 0:t.damage_class)==null?void 0:g.name)||"-"}),e("td",{children:(t==null?void 0:t.power)||"-"}),e("td",{children:(t==null?void 0:t.pp)||"-"}),e("td",{children:(t==null?void 0:t.accuracy)||"-"}),e("td",{children:(t==null?void 0:t.priority)||"-"}),e("td",{className:"uppercase",children:((x=t==null?void 0:t.generation)==null?void 0:x.name.replace(/generation\-/g," "))||"-"})]})},P=(c,o,l,s)=>{const i=o.findIndex(t=>t.version_group.name===s);return i!==-1&&o[i].move_learn_method.name===l?{level:o[i].level_learned_at,name:c.name}:null},_=(c,o)=>{switch(c){case"level-up":{o.sort((l,s)=>l.level<s.level?-1:l.level==s.level?0:1);break}default:{o.sort((l,s)=>l.name<s.name?-1:l.name==s.name?0:1);break}}},j=({learnedMethod:c,moveData:o})=>{const{type:l,version:s,generation:i,selectGeneration:t}=p(r=>r.pokemon),h=i<=t;let n;return h&&(n=o==null?void 0:o.map(({move:r,version_group_details:u})=>P(r,u,c,s)).filter(r=>r!==null)),n&&_(c,n),e(f,{children:e("div",{className:`w-full h-[300px] border-2 border-slate-300/50
            ${l&&a[l].backgroundColor}
            overflow-auto flex flex-col items-center`,children:h?d(f,{children:[d("table",{className:"w-full max-h-full mix-blend-luminosity text-center rounded-lg border-collapse",children:[e("thead",{className:`${l&&a[l].backgroundColor}
                    text-white border-b-2 border-slate-300/50`,children:d("tr",{children:[e("th",{children:c==="level-up"?"Level":"-"}),e("th",{children:"Move"}),e("th",{children:"Type"}),e("th",{children:"Category"}),e("th",{children:"Power"}),e("th",{children:"PP"}),e("th",{children:"Accuracy"}),e("th",{children:"Priority"}),e("th",{children:"Generation"})]})}),e("tbody",{children:(n==null?void 0:n.length)!==0&&(n==null?void 0:n.map(r=>e(C,{level:r.level,name:r.name},r.level+"-"+r.name)))})]}),(n==null?void 0:n.length)===0&&e("p",{className:"flex items-center justify-center flex-1 text-white",children:"This pokemon cannot learn this kind of moves."})]}):e("p",{className:"font-semibold text-white",children:"This pokemon does not exist in this version."})})})},v={"level up":"level-up","tm/hm":"machine",egg:"egg",tutor:"tutor"},T=()=>{const{generation:c,selectGeneration:o,type:l}=p(n=>n.pokemon),[s,i]=M.exports.useState("level up"),t=p(n=>{var r;return(r=n.pokemon.base)==null?void 0:r.moves}),h=c<=o;return d("div",{className:"flex flex-col gap-3 w-full items-center py-5",children:[e("h1",{className:`font-bold text-xl uppercase
            ${l&&a[l].backgroundColor} text-white
            rounded-lg p-2`,children:"Move Pool"}),e("div",{className:"w-full flex flex-wrap gap-1 justify-evenly",children:Object.keys(v).map(n=>e("button",{className:`rounded-lg p-2 uppercase
                    font-bold ${l&&a[l].hoverColor}
                    transition-colors 
                    ${!h&&"pointer-events-none"} 
                    ${n===s&&l&&a[l].backgroundColor} transition-colors`,onClick:r=>i(r.target.innerText.toLowerCase()),children:n},n))}),e(j,{type:l,learnedMethod:v[s],moveData:t})]})};export{T as default};
