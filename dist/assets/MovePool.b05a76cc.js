import{b as y,u as p,c as b,a as d,t as h,j as l,P as k,s as w,d as N,F as x,r as M}from"./index.1ae79bdc.js";const C=({level:s,name:r,setIsFetching:t})=>{var u,m,f;const n=y(),c=p(v=>v.pokemon.type),{data:e,isFetching:o,error:i}=b(r),a=()=>{n(w(r)),n(N(!0))};return d("tr",{className:`${c&&h[c].hoverColor} hover:text-white
        transition-colors cursor-pointer`,onClick:a,children:[l("td",{children:s||"-"}),l("td",{className:"capitalize",children:e?r.replace(/\-/g," "):"-"}),l("td",{className:"capitalize flex item-center justify-center",children:e?l(k,{size:"w-[20px] h-[20px]",type:(u=e==null?void 0:e.type)==null?void 0:u.name}):"-"}),l("td",{className:"capitalize",children:((m=e==null?void 0:e.damage_class)==null?void 0:m.name)||"-"}),l("td",{children:(e==null?void 0:e.power)||"-"}),l("td",{children:(e==null?void 0:e.pp)||"-"}),l("td",{children:(e==null?void 0:e.accuracy)||"-"}),l("td",{children:(e==null?void 0:e.priority)||"-"}),l("td",{className:"uppercase",children:((f=e==null?void 0:e.generation)==null?void 0:f.name.replace(/generation\-/g," "))||"-"})]})},P=(s,r,t,n)=>{const c=r.findIndex(e=>e.version_group.name===n);return c!==-1&&r[c].move_learn_method.name===t?{level:r[c].level_learned_at,name:s.name}:null},_=(s,r)=>{switch(s){case"level-up":{r.sort((t,n)=>t.level<n.level?-1:t.level==n.level?0:1);break}default:{r.sort((t,n)=>t.name<n.name?-1:t.name==n.name?0:1);break}}},j=({learnedMethod:s,moveData:r,existing:t})=>{const{type:n,version:c}=p(o=>o.pokemon);let e;return t&&(e=r==null?void 0:r.map(({move:o,version_group_details:i})=>P(o,i,s,c)).filter(o=>o!==null)),e&&_(s,e),l(x,{children:l("div",{className:`w-full h-[300px] border-2 border-slate-300/50
            ${n&&h[n].backgroundColor}
            overflow-auto flex flex-col items-center`,children:t?d(x,{children:[d("table",{className:"w-full max-h-full mix-blend-luminosity text-center rounded-lg border-collapse",children:[l("thead",{className:`${n&&h[n].backgroundColor}
                    text-white border-b-2 border-slate-300/50`,children:d("tr",{children:[l("th",{children:s==="level-up"?"Level":"-"}),l("th",{children:"Move"}),l("th",{children:"Type"}),l("th",{children:"Category"}),l("th",{children:"Power"}),l("th",{children:"PP"}),l("th",{children:"Accuracy"}),l("th",{children:"Priority"}),l("th",{children:"Generation"})]})}),l("tbody",{children:(e==null?void 0:e.length)!==0&&(e==null?void 0:e.map(o=>l(C,{level:o.level,name:o.name},o.level+"-"+o.name)))})]}),(e==null?void 0:e.length)===0&&l("p",{className:"flex items-center justify-center flex-1 text-white",children:"This pokemon cannot learn this kind of moves."})]}):l("p",{className:"font-semibold text-white",children:"This pokemon does not exist in this version."})})})},g={"level up":"level-up","tm/hm":"machine",egg:"egg",tutor:"tutor"},T=()=>{const{generation:s,selectGeneration:r,type:t}=p(i=>i.pokemon),[n,c]=M.exports.useState("level up"),e=p(i=>{var a;return(a=i.pokemon.base)==null?void 0:a.moves}),o=s<=r;return d("div",{className:"flex flex-col gap-3 w-full items-center py-5",children:[l("h1",{className:`font-bold text-xl uppercase
            ${t&&h[t].backgroundColor} text-white
            rounded-lg p-2`,children:"Move Pool"}),l("div",{className:"w-full flex flex-wrap gap-1 justify-evenly",children:Object.keys(g).map(i=>l("button",{className:`rounded-lg p-2 uppercase
                    font-bold ${t&&h[t].hoverColor}
                    transition-colors 
                    ${!o&&"pointer-events-none"} 
                    ${i===n&&t&&h[t].backgroundColor} transition-colors`,onClick:a=>c(a.target.innerText.toLowerCase()),children:i},i))}),l(j,{type:t,learnedMethod:g[n],moveData:e,existing:o})]})};export{T as default};
